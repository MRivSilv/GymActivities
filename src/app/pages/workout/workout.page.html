<ion-header class="modern-header">
  <ion-toolbar class="modern-toolbar">
    <ion-title class="modern-title">
      <span>Entrenamiento</span>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="modern-content">

  <div class="px-5 py-6 max-w-md mx-auto">

    <!-- HEADER SECTION -->
    <div class="mb-6">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">{{ routineName }}</h1>
      <p class="text-gray-500 text-sm">Registra tus series y repeticiones</p>
    </div>

    <!-- EJERCICIOS -->
    <div class="exercise-list">
      <ion-card
        *ngFor="let ex of exercises; let i = index"
        class="routine-card">

        <div class="routine-header">
          <div class="routine-info">
            <ion-card-title class="routine-title">
              {{ i + 1 }}. {{ ex.name }}
            </ion-card-title>
          </div>
        </div>

        <ion-card-content class="routine-content">

          <!-- SETS HEADER -->
          <div class="sets-header">
            <span class="set-label">Peso (kg)</span>
            <span class="set-label">Reps</span>
            <span class="set-label-actions"></span>
          </div>

          <!-- SERIES -->
          <div class="sets-list">
            <div
              *ngFor="let set of ex.sets; let j = index"
              class="set-row">

              <!-- PESO -->
              <div class="input-wrapper">
                <ion-input
                  type="number"
                  placeholder="0"
                  [(ngModel)]="set.weight"
                  class="set-input weight-input">
                </ion-input>
                <span class="input-unit">kg</span>
              </div>

              <!-- REPS -->
              <div class="input-wrapper">
                <ion-input
                  type="number"
                  placeholder="0"
                  [(ngModel)]="set.reps"
                  class="set-input reps-input">
                </ion-input>
                <span class="input-unit">reps</span>
              </div>

              <!-- ELIMINAR SERIE -->
              <ion-button
                fill="clear"
                class="remove-set-btn"
                (click)="removeSet(i, j)"
                [disabled]="ex.sets.length === 1">
                <ion-icon name="close-circle-outline"></ion-icon>
              </ion-button>

            </div>
          </div>

          <!-- AGREGAR SERIE -->
          <ion-button
            fill="clear"
            class="start-btn"
            (click)="addSet(i)">
            <span>Agregar serie</span>
          </ion-button>

        </ion-card-content>

      </ion-card>
    </div>

    <!-- TERMINAR RUTINA -->
    <ion-button
      expand="block"
      class="create-btn"
      (click)="finishWorkout()">
      <span>Terminar entrenamiento</span>
    </ion-button>

  </div>

</ion-content>
